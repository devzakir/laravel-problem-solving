(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{12:function(t,n,e){"use strict";var o={name:"ConfirmModal",props:["note","cancelText","okText","isDelete"],methods:{cancel:function(){this.$emit("cancel")},ok:function(){this.$emit("ok")}}},a=(e(428),e(3)),r=Object(a.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"confirm__modal"},[e("div",{staticClass:"inner"},[e("p",{staticClass:"note"},[t._v(t._s(t.note))]),t._v(" "),1==t.isDelete?e("p",{staticClass:"attension"},[t._v("削除するとデータが完全に消去されます。")]):t._e(),t._v(" "),e("div",{staticClass:"actions"},[e("button",{on:{click:t.cancel}},[t._v(t._s(t.cancelText))]),t._v(" "),e("button",{on:{click:t.ok}},[t._v(t._s(t.okText))])])])])}),[],!1,null,"313dd1ef",null);n.a=r.exports},263:function(t,n,e){var o=e(429);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(6)(o,a);o.locals&&(t.exports=o.locals)},317:function(t,n,e){var o=e(542);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(6)(o,a);o.locals&&(t.exports=o.locals)},428:function(t,n,e){"use strict";e(263)},429:function(t,n,e){(t.exports=e(5)(!1)).push([t.i,".confirm__modal[data-v-313dd1ef] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.16);\n  z-index: 200;\n}\n.confirm__modal .inner[data-v-313dd1ef] {\n  position: fixed;\n  z-index: 250;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 400px;\n  border-radius: 5px;\n  border: 1px solid var(--border-color);\n  background-color: #fff;\n  padding: 50px 0 30px;\n}\n.actions[data-v-313dd1ef] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 30px;\n}\n.actions button[data-v-313dd1ef] {\n  width: 180px;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.actions button[data-v-313dd1ef]:first-of-type {\n  margin-right: 10px;\n  border: 1px solid var(--border-color);\n}\n.actions button[data-v-313dd1ef]:nth-of-type(2) {\n  border: 0;\n  background-color: var(--accent-color);\n  color: #fff;\n}\n.note[data-v-313dd1ef] {\n  text-align: center;\n}\n.attension[data-v-313dd1ef] {\n  text-align: center;\n  color: #ff0000;\n  font-size: 12px;\n  margin-top: 10px;\n}",""])},44:function(t,n,e){"use strict";e.r(n);var o=e(0),a=e.n(o);function r(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function i(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?r(Object(e),!0).forEach((function(n){c(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function c(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function s(t,n,e,o,a,r,i){try{var c=t[r](i),s=c.value}catch(t){return void e(t)}c.done?n(s):Promise.resolve(s).then(o,a)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(o,a){var r=t.apply(n,e);function i(t){s(r,o,a,i,c,"next",t)}function c(t){s(r,o,a,i,c,"throw",t)}i(void 0)}))}}var d={layout:"recipient",middleware:"recipient",components:{ConfirmModal:e(12).a},methods:{selectProduct:function(){},deleteProc:function(t){this.isShowModal=!0,this.temp_product_id=t},clickPage:function(t){this.rows=this.tempRows.filter((function(n,e){return e>=10*(t-1)&&e<10*t}))},toColumnSettingScreen:function(){this.$router.push({name:"recipient.product.column_setting"})},cancelDeleteConfirm:function(){this.isShowModal=!1},toEditScreen:function(t){this.$router.push({name:"recipient.product.edit",query:{id:t}})},okDeleteConfirm:function(){var t=this;return l(a.a.mark((function n(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.post("/recipienter/delete_product",{id:t.temp_product_id});case 3:e=n.sent,e.data,t.init(),t.isShowModal=!1,n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()},toProductAppend:function(){this.$router.push({name:"recipient.product.create"})},getValue:function(t,n){var e=this.rows.find((function(t){return t.id==n})),o=null;return e.product_values.forEach((function(n){n.product_user_column.product_column.slug==t&&(o="number"==n.product_user_column.product_column.type?parseInt(n.value):n.value)})),o},calcMarkColorClass:function(t){return"SALE"==t||"NEW"==t?"bg_red white":"予約販売"==t||"再入荷"==t||"売れ筋"==t?"bg_yel white":"残りわずか"==t?"bg_white red border_red":"完売"==t?"bg_grey white":"マークなし"==t?"bg_white grey border_grey":void 0},getImageUrl:function(t){var n=this.rows.find((function(n){return n.id==t})),e=null;return n.product_values.forEach((function(t){"image"==t.product_user_column.product_column.slug&&(e=t.value_url)})),e||"/asset/no_image.svg"},setPagination:function(){this.tempRows.length%10>0?this.pageCount=parseInt(this.tempRows.length/10)+1:this.pageCount=parseInt(this.tempRows.length/10)},prepare:function(){return l(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/recipienter/column_prepare");case 3:n=t.sent,n.data,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},init:function(){var t=this;return l(a.a.mark((function n(){var e,o,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.post("/recipienter/get_product_list",t.search);case 3:e=n.sent,o=e.data,t.tempRows=o.products,t.rows=t.tempRows.filter((function(t,n){return n<10})),t.setPagination(),r=o.columns.filter((function(t){return o.userColumns.length>0?1==o.userColumns.find((function(n){return n.product_column_id==t.id})).picked:1==t.picked})).map((function(t){if(o.userColumns.length>0){var n=o.userColumns.find((function(n){return n.product_column_id==t.id}));return i(i({},t),{},{order:n.order,tax:n.tax,tax_type:n.tax_type,name:n.nickname})}return t})),t.columns=[{label:"ステータス",field:"is_public",sortable:!1},{label:"マーク",field:"mark",sortable:!1}],r.sort((function(t,n){return t.order-n.order})),r.forEach((function(n){"total_price"!=n.slug&&("price"==n.slug?(t.columns.push({label:n.name+(1==n.tax_type?"（税抜）":2==n.tax_type?"（税込）":"（非課税）"),field:n.slug,sortable:"number"==n.type}),3!=n.tax_type&&2==n.tax&&t.columns.push({label:"軽減税率",field:"tax",sortable:!1,width:"60px"})):t.columns.push({label:n.name,field:n.slug,sortable:"number"==n.type}))})),t.columns.push({label:"登録日時",field:"created_at",sortable:!1}),t.columns.push({label:"",field:"edit",sortable:!1}),t.columns.push({label:"削除",field:"delete",sortable:!1}),n.next=19;break;case 17:n.prev=17,n.t0=n.catch(0);case 19:case"end":return n.stop()}}),n,null,[[0,17]])})))()}},data:function(){return{isShowModal:!1,columns:[],rows:[],tempRows:[],temp_product_id:null,pageCount:1,search:{keyword:"",fromDate:null,toDate:null,status:null,fromAmount:null,toAmount:null,mark:null}}},mounted:function(){var t=this;return l(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prepare();case 2:t.init();case 3:case"end":return n.stop()}}),n)})))()}},u=(e(541),e(3)),f=Object(u.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"confirm__container"},[e("h2",{staticClass:"page__title"},[t._v("商品管理")]),t._v(" "),e("div",{staticClass:"heading"},[e("div",{staticClass:"search__form"},[e("div",{staticClass:"d-flex mb-14"},[e("div",{staticClass:"form__row d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search.keyword,expression:"search.keyword"}],attrs:{type:"text",placeholder:"キーワード"},domProps:{value:t.search.keyword},on:{input:function(n){n.target.composing||t.$set(t.search,"keyword",n.target.value)}}})]),t._v(" "),e("div",{staticClass:"form__row mr-0 d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search.fromDate,expression:"search.fromDate"}],attrs:{type:"date"},domProps:{value:t.search.fromDate},on:{input:function(n){n.target.composing||t.$set(t.search,"fromDate",n.target.value)}}})]),t._v(" "),e("div",{staticClass:"deparate"},[t._v("~")]),t._v(" "),e("div",{staticClass:"form__row d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search.toDate,expression:"search.toDate"}],attrs:{type:"date"},domProps:{value:t.search.toDate},on:{input:function(n){n.target.composing||t.$set(t.search,"toDate",n.target.value)}}})])]),t._v(" "),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"form__row d-flex mb0"},[e("label",[t._v("ステータス：")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.search.status,expression:"search.status"}],on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.search,"status",n.target.multiple?e:e[0])}}},[e("option",[t._v("すべて")]),t._v(" "),e("option",{domProps:{value:1}},[t._v("公開")]),t._v(" "),e("option",{domProps:{value:0}},[t._v("非公開")])])]),t._v(" "),e("div",{staticClass:"form__row d-flex mb0"},[e("label",[t._v("マーク：")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.search.mark,expression:"search.mark"}],on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.search,"mark",n.target.multiple?e:e[0])}}},[e("option",{domProps:{value:null}},[t._v("マーク選択")]),t._v(" "),e("option",[t._v("SALE")]),t._v(" "),e("option",[t._v("NEW")]),t._v(" "),e("option",[t._v("予約販売")]),t._v(" "),e("option",[t._v("再入荷")]),t._v(" "),e("option",[t._v("売れ筋")]),t._v(" "),e("option",[t._v("残りわずか")]),t._v(" "),e("option",[t._v("完売")]),t._v(" "),e("option",[t._v("マークなし")])])]),t._v(" "),e("div",{staticClass:"form__row d-flex mb0"},[e("label",[t._v("在庫数：")]),t._v(" "),e("div",{staticClass:"d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search.fromAmount,expression:"search.fromAmount"}],staticClass:"amount",attrs:{type:"number"},domProps:{value:t.search.fromAmount},on:{input:function(n){n.target.composing||t.$set(t.search,"fromAmount",n.target.value)}}}),t._v(" "),e("span",[t._v("~")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search.toAmount,expression:"search.toAmount"}],staticClass:"amount",attrs:{type:"number"},domProps:{value:t.search.toAmount},on:{input:function(n){n.target.composing||t.$set(t.search,"toAmount",n.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form__action"},[e("button",{on:{click:t.init}},[t._v("検索")])])])]),t._v(" "),e("div",{staticClass:"actions"},[e("button",{on:{click:t.toProductAppend}},[e("img",{attrs:{src:"/asset/icons/append.svg"}}),t._v("商品追加")]),t._v(" "),e("button",{on:{click:t.toColumnSettingScreen}},[e("img",{attrs:{src:"/asset/icons/setting1.svg"}}),t._v("項目設定")])])]),t._v(" "),e("div",{staticClass:"table__part"},[e("vue-good-table",{attrs:{columns:t.columns,rows:t.rows,"pagination-options":{enabled:!1,perPage:1e3}},scopedSlots:t._u([{key:"table-row",fn:function(n){return["mark"==n.column.field?e("div",[e("span",{staticClass:"mark",class:t.calcMarkColorClass(n.row.mark)},[t._v(t._s(n.row.mark))])]):"is_public"==n.column.field?e("div",{staticClass:"toggle"},[e("toggle-button",{attrs:{width:88,value:0!=n.row.is_public,sync:!0,disabled:!0,color:{unchecked:"#707070",checked:"#337DFD"},labels:{unchecked:"非公開",checked:"公開"}}})],1):"name"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("name",n.row.id)))])]):"price"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(t.getValue("price",n.row.id)))+"円")])]):"tax"==n.column.field?e("div",[e("span",[t._v(t._s(2==n.row.tax?"対象":""))])]):"amount"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(t.getValue("amount",n.row.id))))])]):"total_price"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(t.getValue("total_price",n.row.id)))+"円")])]):"remark"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("remark",n.row.id)))])]):"maker"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("maker",n.row.id)))])]):"color"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("color",n.row.id)))])]):"size"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("size",n.row.id)))])]):"unit"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("unit",n.row.id)))])]):"image"==n.column.field?e("div",[e("span",{staticClass:"img"},[e("img",{attrs:{src:t.getImageUrl(n.row.id)}})])]):"jan"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("jan",n.row.id)))])]):"order"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("order",n.row.id)))])]):"free_space1"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space1",n.row.id)))])]):"free_space2"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space2",n.row.id)))])]):"free_space3"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space3",n.row.id)))])]):"created_at"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("dateFormatFull")(n.row.created_at)))])]):"edit"==n.column.field?e("div",[e("button",{staticClass:"detail_btn",on:{click:function(e){return t.toEditScreen(n.row.id)}}},[t._v("編集")])]):"delete"==n.column.field?e("div",[e("a",{staticClass:"delete_btn",on:{click:function(e){return t.deleteProc(n.row.id)}}},[e("img",{attrs:{src:"/asset/icons/delete.svg"}})])]):e("div",{staticClass:"table_cell"},[t._v("\n          "+t._s(n.formattedRow[n.column.field])+"\n        ")])]}}])},[t._v(" "),e("div",{attrs:{slot:"table-actions-bottom"},slot:"table-actions-bottom"},[e("paginate",{attrs:{"page-count":t.pageCount,"click-handler":t.clickPage,"prev-text":"前","next-text":"次","container-class":"my_custom_pagination"}})],1)])],1),t._v(" "),t.isShowModal?e("ConfirmModal",{attrs:{note:"削除します。よろしいでしょうか",cancelText:"キャンセル",okText:"削除する"},on:{cancel:t.cancelDeleteConfirm,ok:t.okDeleteConfirm}}):t._e()],1)}),[],!1,null,"3df7a185",null);n.default=f.exports},541:function(t,n,e){"use strict";e(317)},542:function(t,n,e){(t.exports=e(5)(!1)).push([t.i,".confirm__container[data-v-3df7a185] {\n  padding: 20px 30px;\n}\n.confirm__container .heading[data-v-3df7a185] {\n  width: 840px;\n  display: flex;\n  margin-top: 20px;\n  margin-bottom: 24px;\n}\n.confirm__container .heading .search__form[data-v-3df7a185] {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  border: 1px solid var(--border-color);\n  padding: 8px 50px 8px 10px;\n  background-color: #fff;\n  border-radius: 5px;\n}\n.confirm__container .heading .search__form .form__row[data-v-3df7a185] {\n  margin-right: 15px;\n  width: 200px;\n  margin-bottom: 14px;\n}\n.confirm__container .heading .search__form .form__row.mb0[data-v-3df7a185] {\n  margin-bottom: 0;\n}\n.confirm__container .heading .search__form .form__row.mr-0[data-v-3df7a185] {\n  margin-right: 0;\n}\n.confirm__container .heading .search__form .form__row input[data-v-3df7a185], .confirm__container .heading .search__form .form__row select[data-v-3df7a185] {\n  height: 30px;\n  flex: 1;\n  border: 1px solid var(--border-color);\n  padding-left: 6px;\n  padding-right: 6px;\n  font-size: 14px;\n}\n.confirm__container .heading .search__form .form__row input.amount[data-v-3df7a185], .confirm__container .heading .search__form .form__row select.amount[data-v-3df7a185] {\n  width: 60px;\n  flex: none;\n}\n.confirm__container .heading .search__form .form__row span[data-v-3df7a185] {\n  width: 20px;\n  text-align: center;\n}\n.confirm__container .heading .search__form .deparate[data-v-3df7a185] {\n  font-size: 16px;\n  width: 20px;\n  text-align: center;\n}\n.confirm__container .heading .search__form .form__action[data-v-3df7a185] {\n  margin-left: auto;\n  margin-right: auto;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.confirm__container .heading .search__form .form__action button[data-v-3df7a185] {\n  width: 120px;\n  height: 30px;\n  background-color: var(--accent-color);\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  border: 0;\n  font-weight: bold;\n  cursor: pointer;\n}\n.confirm__container .heading .actions[data-v-3df7a185] {\n  padding-left: 40px;\n}\n.confirm__container .heading .actions button[data-v-3df7a185] {\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  width: 120px;\n  height: 30px;\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\n  border: 0;\n  margin-bottom: 10px;\n}\n.confirm__container .heading .actions button img[data-v-3df7a185] {\n  width: 20px;\n  margin-right: 20px;\n}\n.confirm__container .heading .actions button[data-v-3df7a185]:first-of-type {\n  background-color: #985298;\n  color: #fff;\n  font-size: 12px;\n  font-weight: bold;\n}\n.confirm__container .heading .actions button[data-v-3df7a185]:nth-of-type(2) {\n  background-color: #fff;\n  color: var(--text-color);\n}\n.confirm__container .heading .actions button[data-v-3df7a185]:nth-of-type(3) {\n  margin-bottom: 0;\n}\n.table__part[data-v-3df7a185] {\n  width: 1012px;\n}\n.mark[data-v-3df7a185] {\n  width: 70px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #D04F4F;\n  color: #fff;\n  font-size: 12px;\n}\n.mark.bg_red[data-v-3df7a185] {\n  background-color: #D04F4F;\n}\n.mark.bg_yel[data-v-3df7a185] {\n  background-color: #D0A34F;\n}\n.mark.white[data-v-3df7a185] {\n  color: #fff;\n}\n.mark.bg_white[data-v-3df7a185] {\n  background-color: #fff;\n}\n.mark.red[data-v-3df7a185] {\n  color: #D04F4F;\n}\n.mark.bg_grey[data-v-3df7a185] {\n  background-color: #707070;\n}\n.mark.border_red[data-v-3df7a185] {\n  border: 1px solid #D04F4F;\n}\n.mark.border_grey[data-v-3df7a185] {\n  border: 1px solid #707070;\n}\n.mark.grey[data-v-3df7a185] {\n  color: #707070;\n}\n.img[data-v-3df7a185] {\n  width: 50px;\n  height: 50px;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n}\n.img img[data-v-3df7a185] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}",""])}}]);