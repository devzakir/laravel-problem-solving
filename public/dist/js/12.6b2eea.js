(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{273:function(n,t,e){var a=e(449);"string"==typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(6)(a,o);a.locals&&(n.exports=a.locals)},274:function(n,t,e){var a=e(451);"string"==typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(6)(a,o);a.locals&&(n.exports=a.locals)},32:function(n,t,e){"use strict";e.r(t);var a=e(0),o=e.n(a);function r(n,t,e,a,o,r,i){try{var c=n[r](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(a,o)}var i={data:function(){return{type:1,name:"",email:""}},methods:{closeModal:function(){this.$emit("closeModal")},invite:function(){var n,t=this;return(n=o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/admin/invite_master_account",{type:t.type,name:t.name,email:t.email});case 2:n.sent.data,t.$swal("","招待しました"),t.$emit("closeModal");case 6:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(a,o){var i=n.apply(t,e);function c(n){r(i,a,o,c,s,"next",n)}function s(n){r(i,a,o,c,s,"throw",n)}c(void 0)}))})()}}},c=(e(448),e(3));function s(n,t,e,a,o,r,i){try{var c=n[r](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(a,o)}function l(n){return function(){var t=this,e=arguments;return new Promise((function(a,o){var r=n.apply(t,e);function i(n){s(r,a,o,i,c,"next",n)}function c(n){s(r,a,o,i,c,"throw",n)}i(void 0)}))}}var d={layout:"admin",middleware:"admin",components:{AccountCreate:Object(c.a)(i,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"account_create"},[e("div",{staticClass:"inner"},[e("h2",{staticClass:"page__title"},[n._v("アカウント作成")]),n._v(" "),e("div",{staticClass:"account_form"},[e("div",{staticClass:"form__row"},[e("label",[n._v("種別")]),n._v(" "),e("p",[e("select",{directives:[{name:"model",rawName:"v-model",value:n.type,expression:"type"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(n){return n.selected})).map((function(n){return"_value"in n?n._value:n.value}));n.type=t.target.multiple?e:e[0]}}},[e("option",{domProps:{value:1}},[n._v("マスターアカウント")])])])]),n._v(" "),e("div",{staticClass:"form__row"},[n._m(0),n._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.name,expression:"name"}],attrs:{type:"text"},domProps:{value:n.name},on:{input:function(t){t.target.composing||(n.name=t.target.value)}}})])]),n._v(" "),e("div",{staticClass:"form__row"},[n._m(1),n._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.email,expression:"email"}],attrs:{type:"text"},domProps:{value:n.email},on:{input:function(t){t.target.composing||(n.email=t.target.value)}}})])])]),n._v(" "),e("div",{staticClass:"form__actions"},[e("button",{on:{click:n.closeModal}},[n._v("戻る")]),n._v(" "),e("button",{on:{click:n.invite}},[n._v("作成")])])])])}),[function(){var n=this.$createElement,t=this._self._c||n;return t("label",[this._v("会社名/屋号"),t("span",[this._v("必須")])])},function(){var n=this.$createElement,t=this._self._c||n;return t("label",[this._v("メールアドレス"),t("span",[this._v("必須")])])}],!1,null,"8ef6094e",null).exports},data:function(){return{search:{keyword:"",from:null,to:null},isShowCreateModal:!1,columns:[{label:"ステータス",field:"user_status"},{label:"会社名",field:"name"},{label:"ログインID",field:"email"},{label:"ユーザー数",field:"user_amount"},{label:"取引先数",field:"transaction_amount"},{label:"詳細",field:"detail",sortable:!1},{label:"機能停止",field:"stop",sortable:!1},{label:"削除",field:"delete",sortable:!1}],rows:[],pageCount:1}},mounted:function(){this.init()},methods:{toPlatformSettings:function(){this.$router.push({name:"admin.platform"})},searchProc:function(){var n=this;return l(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.init();case 1:case"end":return t.stop()}}),t)})))()},init:function(){var n=this;return l(o.a.mark((function t(){var e,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/admin/get_recipienter_list",n.search);case 3:e=t.sent,a=e.data,n.rows=a.recipienters,n.setPagination(),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},clickPage:function(n){console.log(n)},detail:function(n){this.$router.push({name:"admin.user.detail",query:{id:n}})},setPagination:function(){this.rows.length%10>0?this.pageCount=parseInt(this.rows.length/10)+1:this.pageCount=parseInt(this.rows.length/10)},showCreateModal:function(){this.isShowCreateModal=!0},closeModal:function(){this.isShowCreateModal=!1},blockUser:function(n,t){var e=this;return l(o.a.mark((function a(){var r,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,axios.post("/admin/block_user",{user_id:n,status:(1+t)%2});case 3:r=a.sent,i=r.data,e.rows=i.recipienters,a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()},deleteUser:function(n){var t=this;return l(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/admin/delete_user",{user_id:n});case 3:a=e.sent,r=a.data,t.rows=r.recipienters,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},p=(e(450),Object(c.a)(d,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"main__container"},[e("div",{staticClass:"table__header"},[e("div",{staticClass:"search__form"},[e("div",{staticClass:"d-flex mb-14"},[e("div",{staticClass:"form__row d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.search.keyword,expression:"search.keyword"}],attrs:{type:"text",placeholder:"キーワード"},domProps:{value:n.search.keyword},on:{input:function(t){t.target.composing||n.$set(n.search,"keyword",t.target.value)}}})]),n._v(" "),e("div",{staticClass:"form__row mr-0 d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.search.from,expression:"search.from"}],attrs:{type:"date"},domProps:{value:n.search.from},on:{input:function(t){t.target.composing||n.$set(n.search,"from",t.target.value)}}})]),n._v(" "),e("div",{staticClass:"deparate"},[n._v("~")]),n._v(" "),e("div",{staticClass:"form__row d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.search.to,expression:"search.to"}],attrs:{type:"date"},domProps:{value:n.search.to},on:{input:function(t){t.target.composing||n.$set(n.search,"to",t.target.value)}}})]),n._v(" "),e("div",{staticClass:"form__action"},[e("button",{on:{click:n.searchProc}},[n._v("検索")])])])]),n._v(" "),e("div",{staticClass:"exort__part"},[e("a",{staticClass:"append_btn",on:{click:n.showCreateModal}},[e("img",{attrs:{src:"/asset/icons/append.svg"}}),n._v("アカウント登録")]),n._v(" "),e("a",{staticClass:"platform_btm",on:{click:n.toPlatformSettings}},[n._v("プラットフォーム設定")]),n._v(" "),e("div",{staticClass:"total_count"},[n._v("\n        "+n._s(n.rows.length)+"件\n      ")])])]),n._v(" "),e("div",{staticClass:"table__container"},[e("vue-good-table",{attrs:{columns:n.columns,rows:n.rows,"pagination-options":{enabled:!1}},scopedSlots:n._u([{key:"table-row",fn:function(t){return["user_status"==t.column.field?e("div",[e("span",{staticClass:"status",class:{active:1===t.row.status}},[n._v(n._s(1===t.row.status?"有効":"停止中"))])]):n._e(),n._v(" "),"user_amount"==t.column.field?e("div",[n._v("\n          "+n._s(t.row.child_users?t.row.child_users.length:0)+"\n        ")]):n._e(),n._v(" "),"transaction_amount"==t.column.field?e("div",[n._v("\n          "+n._s(t.row.users?t.row.users.length:0)+"\n        ")]):"detail"==t.column.field?e("div",[e("button",{staticClass:"detail_btn",on:{click:function(e){return n.detail(t.row.id)}}},[n._v("詳細")])]):"stop"==t.column.field?e("div",[e("a",{staticClass:"block_user",on:{click:function(e){return n.blockUser(t.row.id,t.row.status)}}},[n._v("\n            "+n._s(1===t.row.status?"機能停止":"復元")+"\n          ")])]):"menu"==t.column.field?e("div",{staticClass:"menu"},[e("select",[e("option",[n._v(">見積作成")]),n._v(" "),e("option",[n._v(">>フォーム案内")]),n._v(" "),e("option",[n._v(">見積作成")])])]):"delete"==t.column.field?e("div",[e("a",{staticClass:"delete_btn",on:{click:function(e){return n.deleteUser(t.row.id)}}},[e("img",{attrs:{src:"/asset/icons/delete.svg"}})])]):e("div",{staticClass:"table_cell"},[n._v("\n          "+n._s(t.formattedRow[t.column.field])+"\n        ")])]}}])},[n._v(" "),e("div",{attrs:{slot:"table-actions-bottom"},slot:"table-actions-bottom"},[e("paginate",{attrs:{"page-count":n.pageCount,"click-handler":n.clickPage,"prev-text":"次","next-text":"前","container-class":"my_custom_pagination"}})],1)])],1),n._v(" "),n.isShowCreateModal?e("AccountCreate",{on:{closeModal:n.closeModal}}):n._e()],1)}),[],!1,null,"666feedc",null));t.default=p.exports},448:function(n,t,e){"use strict";e(273)},449:function(n,t,e){(n.exports=e(5)(!1)).push([n.i,".account_create[data-v-8ef6094e] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.16);\n  z-index: 100;\n}\n.account_create .inner[data-v-8ef6094e] {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 500px;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  border: 1px solid var(--border-color);\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  padding: 28px 20px;\n}\n.account_form[data-v-8ef6094e] {\n  margin-top: 30px;\n  background-color: #F3F3F3;\n  border: 1px solid var(--border-color);\n  padding: 25px 12px;\n  margin-bottom: 25px;\n}\n.account_form .form__row[data-v-8ef6094e] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.account_form .form__row label[data-v-8ef6094e] {\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  width: 167px;\n  padding-right: 10px;\n}\n.account_form .form__row label span[data-v-8ef6094e] {\n  width: 30px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #D34555;\n  color: #fff;\n  margin-left: auto;\n}\n.account_form .form__row p[data-v-8ef6094e] {\n  flex: 1;\n}\n.account_form .form__row p input[data-v-8ef6094e], .account_form .form__row p select[data-v-8ef6094e] {\n  width: 100%;\n  height: 30px;\n  border-radius: 5px;\n  border: 1px solid var(--border-color);\n}\n.form__actions[data-v-8ef6094e] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.form__actions button[data-v-8ef6094e] {\n  width: 180px;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.form__actions button[data-v-8ef6094e]:first-of-type {\n  margin-right: 50px;\n  border: 1px solid var(--border-color);\n}\n.form__actions button[data-v-8ef6094e]:last-of-type {\n  background-color: var(--accent-color);\n  color: #fff;\n  border: 0;\n}",""])},450:function(n,t,e){"use strict";e(274)},451:function(n,t,e){(n.exports=e(5)(!1)).push([n.i,'.d-flex[data-v-666feedc] {\n  display: flex;\n  align-items: center;\n}\n.mb-14[data-v-666feedc] {\n  margin-bottom: 14px;\n}\n.main__container[data-v-666feedc] {\n  padding: 20px 30px;\n}\n.main__container .page__title[data-v-666feedc] {\n  margin-bottom: 20px;\n}\n.main__container .table__header[data-v-666feedc] {\n  display: flex;\n  width: 1290px;\n  align-items: flex-end;\n  margin-bottom: 12px;\n}\n.main__container .table__header .search__form[data-v-666feedc] {\n  width: 850px;\n  border: 1px solid var(--border-color);\n  padding: 8px 10px;\n  background-color: #fff;\n  border-radius: 5px;\n  margin-bottom: 30px;\n}\n.main__container .table__header .search__form .form__row[data-v-666feedc] {\n  margin-right: 15px;\n  width: 200px;\n}\n.main__container .table__header .search__form .form__row.mr-0[data-v-666feedc] {\n  margin-right: 0;\n}\n.main__container .table__header .search__form .form__row input[data-v-666feedc], .main__container .table__header .search__form .form__row select[data-v-666feedc] {\n  height: 30px;\n  flex: 1;\n  border: 1px solid var(--border-color);\n  padding-left: 6px;\n  padding-right: 6px;\n  font-size: 14px;\n}\n.main__container .table__header .search__form .deparate[data-v-666feedc] {\n  font-size: 16px;\n  width: 20px;\n  text-align: center;\n}\n.main__container .table__header .search__form .form__action[data-v-666feedc] {\n  margin-left: auto;\n  margin-right: auto;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.main__container .table__header .search__form .form__action button[data-v-666feedc] {\n  width: 120px;\n  height: 30px;\n  background-color: var(--accent-color);\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  border: 0;\n  font-weight: bold;\n  cursor: pointer;\n}\n.main__container .table__header .exort__part[data-v-666feedc] {\n  flex: 1;\n}\n.main__container .table__header .exort__part .append_btn[data-v-666feedc] {\n  margin-left: auto;\n  width: 150px;\n  height: 30px;\n  background-color: #985298;\n  color: #fff;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\n  font-weight: 600;\n  margin-bottom: 10px;\n}\n.main__container .table__header .exort__part .append_btn img[data-v-666feedc] {\n  margin-right: 4px;\n}\n.main__container .table__header .exort__part .append_btn[data-v-666feedc]:hover {\n  color: #fff;\n}\n.main__container .table__header .exort__part .platform_btm[data-v-666feedc] {\n  margin-left: auto;\n  width: 150px;\n  height: 30px;\n  background-color: #fff;\n  color: #333;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\n  font-weight: 600;\n  margin-bottom: 35px;\n}\n.main__container .table__header .exort__part .download_panel[data-v-666feedc] {\n  padding: 15px;\n  background-color: var(--accent-color);\n  border-radius: 5px;\n  display: flex;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  margin-left: auto;\n  margin-top: 10px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  position: relative;\n}\n.main__container .table__header .exort__part .download_panel a[data-v-666feedc] {\n  border-radius: 5px;\n  background-color: #fff;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 14px;\n  font-size: 12px;\n  color: var(--text-color);\n}\n.main__container .table__header .exort__part .download_panel a[data-v-666feedc]:last-of-type {\n  margin-right: 0;\n}\n.main__container .table__header .exort__part .download_panel a img[data-v-666feedc] {\n  margin-right: 6px;\n}\n.main__container .table__header .exort__part .download_panel[data-v-666feedc]:after {\n  content: "";\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-top: 20px solid var(--accent-color);\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  right: 35px;\n  bottom: -20px;\n}\n.main__container .table__header .exort__part .total_count[data-v-666feedc] {\n  padding-right: 130px;\n  font-size: 12px;\n  color: var(--text-color);\n  text-align: right;\n  padding-top: 10px;\n}\n.main__container .table__container[data-v-666feedc] {\n  padding-top: 0px;\n  width: 1290px;\n}\n.table_cell[data-v-666feedc] {\n  font-size: 12px;\n}\n.shipping_slip[data-v-666feedc] {\n  width: 60px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-size: 12px;\n  background-color: var(--accent-color);\n}\n.shipping_slip.off[data-v-666feedc] {\n  background-color: #D34555;\n}\n.detail_btn[data-v-666feedc] {\n  width: 60px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  background-color: var(--border-color);\n  color: #fff;\n  font-size: 12px;\n}\n.detail_btn.send[data-v-666feedc] {\n  background-color: var(--accent-color);\n}\n.delete_btn[data-v-666feedc] {\n  display: flex;\n}\n.select[data-v-666feedc] {\n  width: 15px;\n  height: 15px;\n  border: 1px solid var(--border-color);\n}\n.menu select[data-v-666feedc] {\n  width: 90px;\n  height: 20px;\n  background-color: var(--accent-color);\n  color: #fff;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  text-align: center;\n}\n.status[data-v-666feedc] {\n  width: 60px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-size: 12px;\n  background-color: #707070;\n}\n.status.active[data-v-666feedc] {\n  background-color: #337DFD;\n}\n.block_user[data-v-666feedc] {\n  border: 1px solid var(--border-color);\n  color: #333;\n  padding-left: 10px;\n  padding-right: 10px;\n  height: 24px;\n  line-height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}',""])}}]);