(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{108:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r);function o(t,e,n,r,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,c,"next",t)}function c(t){o(i,r,a,s,c,"throw",t)}s(void 0)}))}}var s={layout:"recipient",data:function(){return{form:{from:null,title:null,message:null,deadline:null,address:null,client_id:null,order_id:null},order_form:null,step:1,toggle:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;return i(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.post("/recipienter/get_order_detail",{id:t.$route.query.id});case 2:n=e.sent,r=n.data,t.order_form=r.order_form,t.form.client_id=t.order_form.user_id,t.form.order_id=t.order_form.id;case 7:case"end":return e.stop()}}),e)})))()},back:function(){2==this.step?this.step=1:this.$router.back()},next:function(){this.form.from&&this.form.title&&this.form.message&&this.form.address?1==this.step?this.step=2:2==this.step&&this.sendMessage():this.$swal("","必須情報を入力してください")},sendMessage:function(){var t=this;return i(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/recipienter/send_shipping_finish_message",t.form);case 3:n=e.sent,n.data.flag&&(t.$swal("","送信しました。"),t.$router.back()),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},keyupChange:function(){0!==this.form.address.length?this.toggle=!1:this.toggle=!0}}},c=(n(585),n(3)),d=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create__container"},[n("h2",{staticClass:"page__title"},[t._v("出荷完了メール送信")]),t._v(" "),t.order_form?n("div",{staticClass:"contact__info"},[n("div",{staticClass:"d-flex contact_heading"},[n("h2",{staticClass:"page__title"},[t._v("取引先情報")]),t._v(" "),n("span",{staticClass:"company_name"},[t._v(t._s(t.order_form.user.com_name))])]),t._v(" "),n("div",{staticClass:"contact__form"},[n("div",{staticClass:"form__row"},[n("label",[t._v("差出人名")]),t._v(" "),n("p",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.from,expression:"form.from"}],attrs:{disabled:2==t.step},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"from",e.target.multiple?n:n[0])}}},[n("option",{domProps:{value:t.$store.getters["recipienter_auth/user"].id}},[t._v(t._s(t.$store.getters["recipienter_auth/user"].name)+"　"+t._s(1==t.$store.getters["recipienter_auth/user"].type?"マスターアカウント":t.$store.getters["recipienter_auth/user"].tanto_name))])])])]),t._v(" "),n("div",{staticClass:"form__row"},[n("label",[t._v("宛先")]),t._v(" "),n("p",[t._v(t._s(t._f("''")(t.order_form.user.com_name))+"　　　"+t._s(t.order_form.user.email))])]),t._v(" "),n("div",{staticClass:"form__row"},[t._m(0),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],attrs:{type:"text",placeholder:"【ご連絡】株式会社〇〇（注文番号：0000000-111）",disabled:2==t.step},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})])])])]):t._e(),t._v(" "),t.order_form?n("div",{staticClass:"message__part"},[n("p",{staticClass:"to_client"},[t._v("\n        "+t._s(t._f("''")(t.order_form.user.com_name))),n("br"),t._v("\n        "+t._s(t.order_form.user.name)+"様\n      ")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"message_input",attrs:{placeholder:"メッセージ記入欄（在庫、納期等の連絡など）",disabled:2==t.step},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}}),t._v(" "),n("div",{staticClass:"textarea"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"message_input",attrs:{disabled:2==t.step},domProps:{value:t.form.address},on:{keyup:t.keyupChange,input:function(e){e.target.composing||t.$set(t.form,"address",e.target.value)}}}),t._v(" "),t.toggle?n("p",{staticClass:"placeholder"},[t._v("\n    署名や備考など記入欄"),n("br"),t._v("\n    —————————————————————————"),n("br"),t._v("\n    株式会社◯◯◯◯"),n("br"),t._v("\n    メールアドレス："),n("br"),t._v("\n    電話番号："),n("br"),t._v("\n    住所："),n("br"),t._v("\n    —————————————————————————\n  ")]):t._e()])]):t._e(),t._v(" "),n("div",{staticClass:"actions"},[n("button",{on:{click:t.back}},[t._v("戻る")]),t._v(" "),n("button",{on:{click:t.next}},[t._v(t._s(1==t.step?"確認画面へ":"送信"))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v("件名"),e("span",{staticClass:"must"},[this._v("必須")])])}],!1,null,"2020c670",null);e.default=d.exports},339:function(t,e,n){var r=n(586);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,a);r.locals&&(t.exports=r.locals)},585:function(t,e,n){"use strict";n(339)},586:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".create__container[data-v-2020c670] {\n  padding: 20px 30px;\n}\n.create__container .contact__info[data-v-2020c670] {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  padding: 12px 14px;\n  border: 1px solid var(--border-color);\n  border-radius: 5px;\n  background-color: #fff;\n  margin-left: 50px;\n  margin-top: 20px;\n}\n.create__container .contact_heading[data-v-2020c670] {\n  align-items: center;\n  margin-bottom: 14px;\n}\n.create__container .contact_heading .company_name[data-v-2020c670] {\n  margin-left: 30px;\n  font-size: 12px;\n}\n.create__container .contact__form[data-v-2020c670] {\n  padding-left: 20px;\n}\n.create__container .contact__form .form__row[data-v-2020c670] {\n  margin-bottom: 4px;\n  display: flex;\n  align-items: center;\n}\n.create__container .contact__form .form__row label[data-v-2020c670] {\n  font-size: 12px;\n  align-items: center;\n  width: 65px;\n  display: flex;\n}\n.create__container .contact__form .form__row label .must[data-v-2020c670] {\n  width: 26px;\n  height: 12px;\n  font-size: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #D34555;\n  color: #fff;\n  margin-left: 3px;\n}\n.create__container .contact__form .form__row p[data-v-2020c670] {\n  font-size: 12px;\n  flex: 1;\n}\n.create__container .contact__form .form__row p input[data-v-2020c670], .create__container .contact__form .form__row p select[data-v-2020c670] {\n  width: 100%;\n  height: 30px;\n  border: 1px solid var(--border-color);\n  padding-left: 10px;\n  padding-right: 10px;\n  font-size: 12px;\n  width: 316px;\n}\n.create__container .message__part[data-v-2020c670] {\n  width: 800px;\n  border: 1px solid var(--border-color);\n  margin-left: 50px;\n  margin-top: 24px;\n  padding: 25px 32px;\n  background-color: #fff;\n}\n.create__container .message__part .to_client[data-v-2020c670] {\n  font-size: 12px;\n  margin-bottom: 20px;\n}\n.create__container .message__part .message_input[data-v-2020c670] {\n  display: block;\n  width: 100%;\n  height: 200px;\n  border: 1px solid var(--border-color);\n  padding: 4px 8px;\n  font-size: 12px;\n  margin-bottom: 26px;\n  resize: none;\n}\n.create__container .message__part .condition_input[data-v-2020c670] {\n  display: block;\n  width: 100%;\n  height: 240px;\n  border: 1px solid var(--border-color);\n  padding: 4px 8px;\n  font-size: 12px;\n  margin-bottom: 26px;\n  resize: none;\n}\n.create__container .actions[data-v-2020c670] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 30px;\n}\n.create__container .actions button[data-v-2020c670] {\n  width: 180px;\n  height: 35px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n}\n.create__container .actions button[data-v-2020c670]:first-of-type {\n  margin-right: 50px;\n  background-color: #fff;\n  border: 1px solid var(--border-color);\n}\n.create__container .actions button[data-v-2020c670]:last-of-type {\n  background-color: var(--accent-color);\n  color: #fff;\n  border: 0;\n}\n.textarea[data-v-2020c670] {\n  position: relative;\n}\n.textarea textarea[data-v-2020c670] {\n  background: transparent;\n  position: relative;\n}\n.textarea .placeholder[data-v-2020c670] {\n  position: absolute;\n  left: 8px;\n  top: 4px;\n  font-size: 12px;\n  z-index: 0;\n  opacity: 0.7;\n}",""])}}]);