(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{12:function(t,n,e){"use strict";var a={name:"ConfirmModal",props:["note","cancelText","okText","isDelete"],methods:{cancel:function(){this.$emit("cancel")},ok:function(){this.$emit("ok")}}},r=(e(428),e(3)),i=Object(r.a)(a,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"confirm__modal"},[e("div",{staticClass:"inner"},[e("p",{staticClass:"note"},[t._v(t._s(t.note))]),t._v(" "),1==t.isDelete?e("p",{staticClass:"attension"},[t._v("削除するとデータが完全に消去されます。")]):t._e(),t._v(" "),e("div",{staticClass:"actions"},[e("button",{on:{click:t.cancel}},[t._v(t._s(t.cancelText))]),t._v(" "),e("button",{on:{click:t.ok}},[t._v(t._s(t.okText))])])])])}),[],!1,null,"313dd1ef",null);n.a=i.exports},24:function(t,n,e){"use strict";var a=e(0),r=e.n(a);function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){c(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function c(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n,e,a,r,i,o){try{var c=t[i](o),l=c.value}catch(t){return void e(t)}c.done?n(l):Promise.resolve(l).then(a,r)}var s={props:["id"],data:function(){return{order_form:null,rows:[],columns:[]}},mounted:function(){this.init()},methods:{init:function(){var t,n=this;return(t=r.a.mark((function t(){var e,a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/recipienter/get_order_detail",{id:n.$props.id});case 3:e=t.sent,a=e.data,n.order_form=a.order_form,(i=a.columns.filter((function(t){return a.userColumns.length>0?1==a.userColumns.find((function(n){return n.product_column_id==t.id})).picked:1==t.picked})).map((function(t){if(a.userColumns.length>0){var n=a.userColumns.find((function(n){return n.product_column_id==t.id}));return o(o({},t),{},{order:n.order,tax:n.tax,tax_type:n.tax_type,name:n.nickname})}return t}))).sort((function(t,n){return t.order-n.order})),i.forEach((function(t){"total_price"!=t.slug&&("price"==t.slug?(n.columns.push({label:t.name+(1==t.tax_type?"（税抜）":2==t.tax_type?"（税込）":"（非課税）"),field:t.slug,sortable:"number"==t.type}),3!=t.tax_type&&2==t.tax&&n.columns.push({label:"軽減税率",field:"tax",sortable:!1,width:"60px"})):n.columns.push({label:t.name,field:t.slug,sortable:"number"==t.type}))})),n.rows=a.order_form_products.map((function(t){return o(o({},t.product),{},{price:t.price,amount:t.amount,tax:t.tax,tax_type:t.tax_type})})),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})),function(){var n=this,e=arguments;return new Promise((function(a,r){var i=t.apply(n,e);function o(t){l(i,a,r,o,c,"next",t)}function c(t){l(i,a,r,o,c,"throw",t)}o(void 0)}))})()},getValue:function(t,n){var e=this.rows.find((function(t){return t.id==n})),a=null;return e.product_values.forEach((function(n){n.product_user_column.product_column.slug==t&&(a="number"==n.product_user_column.product_column.type?parseInt(n.value):n.value)})),a},getImageUrl:function(t){var n=this.rows.find((function(n){return n.id==t})),e=null;return n.product_values.forEach((function(t){"image"==t.product_user_column.product_column.slug&&(e=t.value_url)})),e||"/asset/no_image.svg"}}},_=(e(430),e(3)),d=Object(_.a)(s,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"order_detail_products"},[e("vue-good-table",{attrs:{columns:t.columns,rows:t.rows,"pagination-options":{enabled:!1}},scopedSlots:t._u([{key:"table-row",fn:function(n){return["mark"==n.column.field?e("div",[e("span",{staticClass:"mark"},[t._v(t._s(n.row.mark))])]):"is_public"==n.column.field?e("div",{staticClass:"toggle"},[e("toggle-button",{attrs:{width:88,value:0!=n.row.is_public,sync:!0,disabled:!0,color:{unchecked:"#707070",checked:"#337DFD"},labels:{unchecked:"非公開",checked:"公開"}}})],1):"name"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("name",n.row.id)))])]):"price"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(n.row.price))+"円")])]):"tax"==n.column.field?e("div",[e("span",[t._v(t._s(2==n.row.tax?"対象":""))])]):"amount"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(n.row.amount)))])]):"total_price"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(n.row.price*n.row.amount))+"円")])]):"remark"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("remark",n.row.id)))])]):"maker"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("maker",n.row.id)))])]):"color"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("color",n.row.id)))])]):"size"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("size",n.row.id)))])]):"unit"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("unit",n.row.id)))])]):"image"==n.column.field?e("div",[e("span",{staticClass:"img"},[e("img",{attrs:{src:t.getImageUrl(n.row.id)}})])]):"jan"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("jan",n.row.id)))])]):"order"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("order",n.row.id)))])]):"free_space1"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space1",n.row.id)))])]):"free_space2"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space2",n.row.id)))])]):"free_space3"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space3",n.row.id)))])]):e("div",{staticClass:"table_cell"},[t._v("\n        "+t._s(n.formattedRow[n.column.field])+"\n      ")])]}}])})],1)}),[],!1,null,"13581411",null);n.a=d.exports},263:function(t,n,e){var a=e(429);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(6)(a,r);a.locals&&(t.exports=a.locals)},264:function(t,n,e){var a=e(431);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(6)(a,r);a.locals&&(t.exports=a.locals)},293:function(t,n,e){var a=e(494);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(6)(a,r);a.locals&&(t.exports=a.locals)},428:function(t,n,e){"use strict";e(263)},429:function(t,n,e){(t.exports=e(5)(!1)).push([t.i,".confirm__modal[data-v-313dd1ef] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.16);\n  z-index: 200;\n}\n.confirm__modal .inner[data-v-313dd1ef] {\n  position: fixed;\n  z-index: 250;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 400px;\n  border-radius: 5px;\n  border: 1px solid var(--border-color);\n  background-color: #fff;\n  padding: 50px 0 30px;\n}\n.actions[data-v-313dd1ef] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 30px;\n}\n.actions button[data-v-313dd1ef] {\n  width: 180px;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.actions button[data-v-313dd1ef]:first-of-type {\n  margin-right: 10px;\n  border: 1px solid var(--border-color);\n}\n.actions button[data-v-313dd1ef]:nth-of-type(2) {\n  border: 0;\n  background-color: var(--accent-color);\n  color: #fff;\n}\n.note[data-v-313dd1ef] {\n  text-align: center;\n}\n.attension[data-v-313dd1ef] {\n  text-align: center;\n  color: #ff0000;\n  font-size: 12px;\n  margin-top: 10px;\n}",""])},430:function(t,n,e){"use strict";e(264)},431:function(t,n,e){(t.exports=e(5)(!1)).push([t.i,".img[data-v-13581411] {\n  display: flex;\n  width: 100px;\n}\n.img img[data-v-13581411] {\n  width: 100%;\n}",""])},493:function(t,n,e){"use strict";e(293)},494:function(t,n,e){(t.exports=e(5)(!1)).push([t.i,".mb-20[data-v-1a4c63f8] {\n  margin-bottom: 20px;\n}\n.order__detail_container[data-v-1a4c63f8] {\n  padding: 20px 30px;\n}\n.order__detail_container .heading[data-v-1a4c63f8] {\n  width: 910px;\n  align-items: center;\n}\n.order__detail_container .download_btn[data-v-1a4c63f8] {\n  border-radius: 5px;\n  background-color: #fff;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  margin-left: auto;\n  margin-right: 20px;\n  color: var(--text-color);\n  border: 1px solid var(--border-color);\n}\n.order__detail_container .download_btn img[data-v-1a4c63f8] {\n  margin-right: 6px;\n}\n.order__detail_container .status__part[data-v-1a4c63f8] {\n  margin-left: 50px;\n  display: flex;\n  padding-top: 20px;\n  border-bottom: 1px solid var(--border-color);\n  padding-bottom: 20px;\n}\n.order__detail_container .status__part .panel[data-v-1a4c63f8] {\n  flex: 0.5;\n  border: 1px solid var(--border-color);\n  padding: 12px 16px;\n  border-radius: 5px;\n  background-color: #fff;\n}\n.order__detail_container .status__part .panel[data-v-1a4c63f8]:first-of-type {\n  margin-right: 30px;\n}\n.order__detail_container .status__part .panel .sub_title[data-v-1a4c63f8] {\n  margin-left: 30px;\n  font-size: 14px;\n}\n.order__detail_container .status__part .panel .panel__info[data-v-1a4c63f8] {\n  margin-top: 12px;\n  width: 100%;\n}\n.order__detail_container .status__part .panel .panel__info .panel__row[data-v-1a4c63f8] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 4px;\n}\n.order__detail_container .status__part .panel .panel__info .panel__row label[data-v-1a4c63f8] {\n  font-size: 12px;\n  margin-right: 10px;\n}\n.order__detail_container .status__part .panel .panel__info .panel__row p[data-v-1a4c63f8] {\n  flex: 1;\n}\n.order__detail_container .status__part .panel .panel__info .contactClient[data-v-1a4c63f8] {\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  color: #337DFD;\n  margin-left: auto;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.order__detail_container .status__part .panel .panel__info .contactClient img[data-v-1a4c63f8] {\n  margin-right: 5px;\n  font-size: 12px;\n  color: 15px;\n  margin-right: 5px;\n}\n.order__detail_container .status__part .status__action[data-v-1a4c63f8] {\n  flex: 0.5;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-end;\n}\n.order__detail_container .status__part .status__action button[data-v-1a4c63f8] {\n  width: 70px;\n  height: 25px;\n  border-radius: 5px;\n  border: 1px solid var(--border-color);\n  color: var(--text-color);\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n}\n.order__detail_container .status__part .status__action button img[data-v-1a4c63f8] {\n  margin-right: 4px;\n}\n.order__detail_container .status__part .status__action button[data-v-1a4c63f8]:first-of-type {\n  margin-right: 17px;\n}\n.order__detail_container .client__info[data-v-1a4c63f8] {\n  margin-left: 50px;\n  width: 860px;\n  padding-top: 25px;\n  display: flex;\n}\n.order__detail_container .client__info .left[data-v-1a4c63f8] {\n  width: 300px;\n}\n.order__detail_container .client__info .left .client_saki[data-v-1a4c63f8] {\n  font-size: 12px;\n  color: var(--text-color);\n  width: 100%;\n  border-bottom: 1px solid var(--border-color);\n  position: relative;\n  padding-right: 35px;\n  margin-top: 6px;\n  line-height: 25px;\n}\n.order__detail_container .client__info .left .client_saki span[data-v-1a4c63f8] {\n  font-size: 18px;\n  position: absolute;\n  right: 15px;\n}\n.order__detail_container .client__info .left .content[data-v-1a4c63f8] {\n  font-size: 10px;\n  margin-left: 20px;\n  margin-bottom: 44px;\n  padding-top: 18px;\n}\n.order__detail_container .client__info .left .total_price[data-v-1a4c63f8] {\n  display: flex;\n  border-bottom: 1px solid var(--border-color);\n  line-height: 25px;\n}\n.order__detail_container .client__info .left .total_price span[data-v-1a4c63f8] {\n  font-size: 12px;\n}\n.order__detail_container .client__info .left .total_price span[data-v-1a4c63f8]:first-of-type {\n  margin-right: auto;\n}\n.order__detail_container .client__info .right[data-v-1a4c63f8] {\n  width: 270px;\n  margin-left: auto;\n}\n.order__detail_container .client__info .right .info__row[data-v-1a4c63f8] {\n  display: flex;\n  align-items: center;\n}\n.order__detail_container .client__info .right .info__row label[data-v-1a4c63f8] {\n  font-size: 10px;\n  width: 120px;\n}\n.order__detail_container .client__info .right .info__row input[data-v-1a4c63f8] {\n  height: 30px;\n  width: 100px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 12px;\n}\n.order__detail_container .client__info .right .info__row p[data-v-1a4c63f8] {\n  flex: 1;\n  font-size: 10px;\n}\n.order__detail_container .client__info .right .com_name[data-v-1a4c63f8] {\n  margin-top: 14px;\n  font-size: 18px;\n  color: var(--text-color);\n  margin-bottom: 8px;\n}\n.order__detail_container .client__info .right .address[data-v-1a4c63f8] {\n  margin-bottom: 5px;\n  font-size: 10px;\n}\n.order__detail_container .client__info .right .contact_btn[data-v-1a4c63f8] {\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  color: #337DFD;\n}\n.order__detail_container .client__info .right .contact_btn img[data-v-1a4c63f8] {\n  width: 15px;\n  margin-right: 20px;\n}\n.order__detail_container .detail__part .detail__table[data-v-1a4c63f8] {\n  padding-left: 50px;\n  padding-top: 25px;\n}\n.order__detail_container .detail__part .detail__table .remark input[data-v-1a4c63f8] {\n  height: 30px;\n  border: 1px solid var(--border-color);\n}\n.order__detail_container .detail__part .total__part[data-v-1a4c63f8] {\n  display: flex;\n  padding-left: 50px;\n}\n.order__detail_container .detail__part .total__part .message__part[data-v-1a4c63f8] {\n  width: 500px;\n  border: 1px solid var(--border-color);\n  padding: 15px;\n  background-color: #fff;\n}\n.order__detail_container .detail__part .total__part .message__part h4[data-v-1a4c63f8] {\n  font-size: 14px;\n}\n.order__detail_container .detail__part .total__part .message__part textarea[data-v-1a4c63f8] {\n  width: 100%;\n  display: block;\n  height: 78px;\n  border: 1px solid var(--border-color);\n  border-radius: 5px;\n  padding: 10px;\n  margin-top: 4px;\n  resize: none;\n  margin-bottom: 16px;\n}\n.order__detail_container .detail__part .total__part .calculator[data-v-1a4c63f8] {\n  margin-bottom: 15px;\n  flex: 1;\n}\n.order__detail_container .detail__part .total__part .calculator .calc_row[data-v-1a4c63f8] {\n  display: flex;\n  align-items: center;\n}\n.order__detail_container .detail__part .total__part .calculator .calc_row label[data-v-1a4c63f8] {\n  flex: 1;\n  height: 50px;\n  border: 1px solid var(--border-color);\n  line-height: 50px;\n  padding-left: 10px;\n}\n.order__detail_container .detail__part .total__part .calculator .calc_row p[data-v-1a4c63f8] {\n  text-align: right;\n  flex: 1;\n  height: 50px;\n  border: 1px solid var(--border-color);\n  line-height: 50px;\n  padding-right: 10px;\n}\n.order__detail_container .detail__part .total__part .calculator .calc__action[data-v-1a4c63f8] {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  padding-top: 15px;\n}\n.order__detail_container .detail__part .total__part .calculator .calc__action button[data-v-1a4c63f8] {\n  width: 180px;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.order__detail_container .detail__part .total__part .calculator .calc__action button.on[data-v-1a4c63f8] {\n  background-color: var(--accent-color);\n  color: #fff;\n  border: 0;\n}\n.order__detail_container .detail__part .total__part .calculator .calc__action button.back[data-v-1a4c63f8] {\n  background-color: #fff;\n  border: 1px solid var(--border-color);\n}\n.pdf_container[data-v-1a4c63f8] {\n  padding: 25px;\n}\n.pdf_container .pdf_heading[data-v-1a4c63f8] {\n  display: flex;\n}\n.pdf_container .pdf_heading .contact_to[data-v-1a4c63f8] {\n  font-size: 16px;\n  margin-right: auto;\n}\n.pdf_container .pdf_heading .page_type[data-v-1a4c63f8] {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.pdf_container .pdf_heading .page_type p[data-v-1a4c63f8]:first-of-type {\n  background-color: #333;\n  color: #fff;\n  width: 100%;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: bold;\n}\n.pdf_container .pdf_heading .page_type p[data-v-1a4c63f8]:last-of-type {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  font-size: 12px;\n}\n.pdf_container .order_detail_info[data-v-1a4c63f8] {\n  display: flex;\n  border: 1px solid #333;\n  padding: 10px;\n  margin-top: 20px;\n}\n.pdf_container .order_detail_info .d-flex[data-v-1a4c63f8] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 14px;\n}\n.pdf_container .order_detail_info .left[data-v-1a4c63f8] {\n  flex: 1;\n  border-right: 1px dashed #333;\n  margin-right: 10px;\n}\n.pdf_container .order_detail_info .left label[data-v-1a4c63f8] {\n  width: 100px;\n  height: 30px;\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n  margin-right: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pdf_container .order_detail_info .left p[data-v-1a4c63f8] {\n  font-size: 15px;\n}\n.pdf_container .order_detail_info .right[data-v-1a4c63f8] {\n  flex: 1;\n}\n.pdf_container .order_detail_info .right .client_info[data-v-1a4c63f8] {\n  position: relative;\n  margin-bottom: 20px;\n}\n.pdf_container .order_detail_info .right .client_info .dump[data-v-1a4c63f8] {\n  position: absolute;\n  right: 10px;\n  bottom: 0;\n}\n.pdf_container .order_detail_info .right .client_info .dump img[data-v-1a4c63f8] {\n  width: 60px;\n  height: 60px;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.pdf_container .order_detail_info .right .client_info.border[data-v-1a4c63f8] {\n  border: 1px solid #000;\n  padding: 10px;\n}\n.pdf_container .order_detail_info .right .client_info label[data-v-1a4c63f8] {\n  width: 100px;\n  height: 30px;\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pdf_container .order_detail_info .right .client_info p[data-v-1a4c63f8] {\n  font-size: 12px;\n}\n.total_price[data-v-1a4c63f8] {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  margin-left: auto;\n  margin-top: 30px;\n}\n.total_price table[data-v-1a4c63f8] {\n  border-collapse: collapse;\n}\n.total_price table td[data-v-1a4c63f8] {\n  border: 1px solid #000;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.img[data-v-1a4c63f8] {\n  display: flex;\n  width: 100px;\n}\n.img img[data-v-1a4c63f8] {\n  width: 100%;\n}",""])},85:function(t,n,e){"use strict";e.r(n);var a,r=e(0),i=e.n(r),o=e(20),c=e(24),l=e(12);function s(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function _(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(n){d(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function d(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function p(t,n,e,a,r,i,o){try{var c=t[i](o),l=c.value}catch(t){return void e(t)}c.done?n(l):Promise.resolve(l).then(a,r)}function f(t){return function(){var n=this,e=arguments;return new Promise((function(a,r){var i=t.apply(n,e);function o(t){p(i,a,r,o,c,"next",t)}function c(t){p(i,a,r,o,c,"throw",t)}o(void 0)}))}}var u=e(27),v={layout:"recipient",components:{ConfirmModal:l.a,VueHtml2pdf:o.a,OrderProductTable:c.a},data:function(){return{columns:[],rows:[],order_form:null,message:"",deadline:null,deadline_time:null,payment_method:null,card_token:null,bank_code:null,branch_code:null,account_type:null,account_number:null,account_name:null,bankList:[],branchList:[],isShowModal:!1,isEditing:!1,pay_expire:null}},mounted:function(){this.loadBankList(),this.init()},methods:(a={back:function(){this.$router.back()},editExpire:function(){var t=this;return f(i.a.mark((function n(){var e;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isEditing=!t.isEditing,0!=t.isEditing){n.next=12;break}if(!t.pay_expire){n.next=12;break}return n.prev=3,n.next=6,axios.post("/recipienter/save_pay_expire",{pay_expire:t.pay_expire,id:t.order_form.id});case 6:e=n.sent,e.data,n.next=12;break;case 10:n.prev=10,n.t0=n.catch(3);case 12:case"end":return n.stop()}}),n,null,[[3,10]])})))()},changePayExpire:function(t){},sendInvoiceEmail:function(){this.isShowModal=!0},cancelFinishDelivery:function(){this.isShowModal=!1},okFinishDelivery:function(){var t=this;return f(i.a.mark((function n(){var e;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.post("/recipienter/send_invoice_email",{id:t.$route.query.id});case 3:e=n.sent,e.data.flag&&(t.$swal("","請求書送信しました"),t.$router.push({name:"recipient.invoice"})),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})))()},loadBankList:function(){this.bankList=Object.values(u),this.bankList=this.bankList.filter((function(t){return t.code>="0001"&&t.code<"0043"||"ゆうちょ"==t.name}))},calcBankName:function(){var t=this,n=this.bankList.find((function(n){return n.code==t.bank_code}));return n?n.name:""}},d(a,"sendInvoiceEmail",(function(){this.$router.push({name:"recipient.invoice.message.create",query:{id:this.$route.query.id}})})),d(a,"downloadPDF",(function(){this.$refs.html2Pdf.generatePdf()})),d(a,"onProgress",(function(t){})),d(a,"hasStartedGeneration",(function(){})),d(a,"hasGenerated",(function(){})),d(a,"calcBranchName",(function(){var t=this,n=this.bankList.find((function(n){return n.code==t.bank_code}));if(n){var e=Object.values(n.branches).find((function(n){return n.code==t.branch_code}));return e?e.name:""}return""})),d(a,"calcAccountType",(function(){var t="";switch(this.account_type){case"1":t="普通預金";break;case"2":t="当座預金";break;case"3":t="貯蓄預金"}return t})),d(a,"calcTotalPrice",(function(){var t=0;return this.rows.map((function(n){t+=n.price*n.amount})),parseInt(t)})),d(a,"calcTaxFee8P",(function(){var t=0;return this.rows.forEach((function(n){2==n.tax&&(t+=n.price*n.amount*.08)})),parseInt(t)})),d(a,"calcTaxFee10P",(function(){var t=0;return this.rows.forEach((function(n){1==n.tax&&(t+=n.price*n.amount*.1)})),parseInt(t)})),d(a,"calcPrice8P",(function(){var t=0;return this.rows.forEach((function(n){2==n.tax&&(t+=n.price*n.amount)})),parseInt(t)})),d(a,"calcPrice10P",(function(){var t=0;return this.rows.forEach((function(n){1==n.tax&&(t+=n.price*n.amount)})),parseInt(t)})),d(a,"getValue",(function(t,n){var e=this.rows.find((function(t){return t.id==n})),a=null;return e.product_values.forEach((function(n){n.product_user_column.product_column.slug==t&&(a="number"==n.product_user_column.product_column.type?parseInt(n.value):n.value)})),a})),d(a,"getImageUrl",(function(t){var n=this.rows.find((function(n){return n.id==t})),e=null;return n.product_values.forEach((function(t){"image"==t.product_user_column.product_column.slug&&(e=t.value_url)})),e||"/asset/no_image.svg"})),d(a,"init",(function(){var t=this;return f(i.a.mark((function n(){var e,a,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.post("/recipienter/get_order_detail",{id:t.$route.query.id});case 3:e=n.sent,a=e.data,t.bank_code=a.recipienter.bank_code,t.branch_code=a.recipienter.branch_code,t.account_type=a.recipienter.account_type,t.account_number=a.recipienter.account_number,t.account_name=a.recipienter.account_name,t.order_form=a.order_form,t.pay_expire=a.order_form.pay_expire,(r=a.columns.filter((function(t){return a.userColumns.length>0?1==a.userColumns.find((function(n){return n.product_column_id==t.id})).picked:1==t.picked})).map((function(t){if(a.userColumns.length>0){var n=a.userColumns.find((function(n){return n.product_column_id==t.id}));return _(_({},t),{},{order:n.order,tax:n.tax,tax_type:n.tax_type,name:n.nickname})}return t}))).sort((function(t,n){return t.order-n.order})),r.forEach((function(n){"total_price"!=n.slug&&("price"==n.slug?(t.columns.push({label:n.name+(1==n.tax_type?"（税抜）":2==n.tax_type?"（税込）":"（非課税）"),field:n.slug,sortable:"number"==n.type}),3!=n.tax_type&&2==n.tax&&t.columns.push({label:"軽減税率",field:"tax",sortable:!1,width:"60px"})):t.columns.push({label:n.name,field:n.slug,sortable:"number"==n.type}))})),t.rows=a.order_form_products.map((function(t){return _(_({},t.product),{},{price:t.price,amount:t.amount,tax:t.tax,tax_type:t.tax_type})})),n.next=20;break;case 18:n.prev=18,n.t0=n.catch(0);case 20:case"end":return n.stop()}}),n,null,[[0,18]])})))()})),a)},m=(e(493),e(3)),g=Object(m.a)(v,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"order__detail_container"},[t._m(0),t._v(" "),t.order_form?e("div",{staticClass:"status__part"},[e("div",{staticClass:"panel"},[e("h3",{staticClass:"page__title"},[t._v("書類情報")]),t._v(" "),e("div",{staticClass:"panel__info"},[e("div",{staticClass:"panel__row"},[e("label",[t._v("注文番号　　："+t._s(t.order_form.hash))]),t._v(" "),e("p")]),t._v(" "),e("div",{staticClass:"panel__row"},[e("label",[t._v("最終更新日時："+t._s(t._f("dateFormatFull")(t.order_form.updated_at)))]),t._v(" "),e("p")])])]),t._v(" "),e("div",{staticClass:"status__action"},[e("button",{on:{click:t.downloadPDF}},[e("img",{attrs:{src:"/asset/icons/pdf.svg"}}),t._v("請求書作成")])])]):t._e(),t._v(" "),t.order_form?e("div",{staticClass:"client__info"},[e("div",{staticClass:"left"},[e("h3",{staticClass:"page__title"},[t._v(t._s(t.order_form.user.com_name))]),t._v(" "),e("p",{staticClass:"client_saki"},[t._v(t._s(t.order_form.user.name)+" "),e("span",[t._v("様")])]),t._v(" "),t._m(1),t._v(" "),e("p",{staticClass:"total_price"},[e("span",[t._v("合計金額")]),t._v(" "),e("span",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcTotalPrice()))+"（税込）")])])]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"info__row"},[e("label",[t._v("請求書番号：")]),t._v(" "),e("p",[t._v(t._s(t.order_form.invoice_hash))])]),t._v(" "),e("div",{staticClass:"info__row"},[e("label",[t._v("作成日：")]),t._v(" "),e("p",[t._v(t._s(t._f("dateFormat")(t.order_form.invoice_at)))])]),t._v(" "),e("div",{staticClass:"info__row"},[e("label",[t._v("支払期限：")]),t._v(" "),t.isEditing?e("input",{directives:[{name:"model",rawName:"v-model",value:t.pay_expire,expression:"pay_expire"}],attrs:{type:"date"},domProps:{value:t.pay_expire},on:{change:t.changePayExpire,input:function(n){n.target.composing||(t.pay_expire=n.target.value)}}}):e("p",[t._v(t._s(t._f("dateFormat")(t.pay_expire)))]),t._v(" "),e("button",{on:{click:t.editExpire}},[t._v(t._s(t.isEditing?"保存":"編集"))])]),t._v(" "),e("div",{staticClass:"com_name"},[t._v(t._s(t.order_form.recipienter.name||""))]),t._v(" "),e("div",{staticClass:"address"},[t._v("\n        住所　："+t._s(t.order_form.recipienter.prefecture||"")),e("br"),t._v("\n        　　　　"+t._s(t.order_form.recipienter.city||"")),e("br"),t._v("\n        　　　　"+t._s(t.order_form.recipienter.address||"")+"\n      ")]),t._v(" "),e("div",{staticClass:"address"},[t._v("\n        担当者："+t._s(t.order_form.recipienter.tanto_name||"管理者")+"\n      ")]),t._v(" "),e("div",{staticClass:"address"},[t._v("\n        電話番号: "+t._s(t.order_form.recipienter.phone||"")+"\n      ")]),t._v(" "),e("div")])]):t._e(),t._v(" "),e("div",{staticClass:"detail__part"},[e("div",{staticClass:"detail__table"},[e("vue-good-table",{attrs:{columns:t.columns,rows:t.rows,"pagination-options":{enabled:!1}},scopedSlots:t._u([{key:"table-row",fn:function(n){return["mark"==n.column.field?e("div",[e("span",{staticClass:"mark"},[t._v(t._s(n.row.mark))])]):"is_public"==n.column.field?e("div",{staticClass:"toggle"},[e("toggle-button",{attrs:{width:88,value:0!=n.row.is_public,sync:!0,disabled:!0,color:{unchecked:"#707070",checked:"#337DFD"},labels:{unchecked:"非公開",checked:"公開"}}})],1):"name"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("name",n.row.id)))])]):"price"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(n.row.price))+"円")])]):"tax"==n.column.field?e("div",[e("span",[t._v(t._s(2==n.row.tax?"対象":""))])]):"amount"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(n.row.amount)))])]):"total_price"==n.column.field?e("div",[e("span",[t._v(t._s(t._f("moneyFormat")(n.row.price*n.row.amount))+"円")])]):"remark"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("remark",n.row.id)))])]):"maker"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("maker",n.row.id)))])]):"color"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("color",n.row.id)))])]):"size"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("size",n.row.id)))])]):"unit"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("unit",n.row.id)))])]):"image"==n.column.field?e("div",[e("span",{staticClass:"img"},[e("img",{attrs:{src:t.getImageUrl(n.row.id)}})])]):"jan"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("jan",n.row.id)))])]):"order"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("order",n.row.id)))])]):"free_space1"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space1",n.row.id)))])]):"free_space2"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space2",n.row.id)))])]):"free_space3"==n.column.field?e("div",[e("span",[t._v(t._s(t.getValue("free_space3",n.row.id)))])]):"delete"==n.column.field?e("div",[e("a",{staticClass:"delete_btn",on:{click:function(e){return t.cancelOrderedProduct(n.row.id)}}},[e("img",{attrs:{src:"/asset/icons/delete.svg"}})])]):e("div",{staticClass:"table_cell"},[t._v("\n            "+t._s(n.formattedRow[n.column.field])+"\n          ")])]}}])})],1),t._v(" "),t.order_form?e("div",{staticClass:"total__part"},[e("div",{staticClass:"message__part"},[e("h4",[t._v("メッセージ")]),t._v(" "),e("p",[t._v("\n          "+t._s(t.order_form.message)+"\n        ")]),t._v(" "),e("div",{staticClass:"d-flex mb-20"},[e("label",[t._v("希望納品時間：")]),t._v(" "),e("p",[t._v(t._s(t._f("dateFormat")(t.order_form.deadline)))])]),t._v(" "),e("div",{staticClass:"d-flex"},[e("label",[t._v("希望納品時間：")]),t._v(" "),e("p",[t._v(t._s(t.order_form.deadline_time))])]),t._v(" "),e("div",{staticClass:"d-flex"},[e("label",[t._v("支払方法　　：")]),t._v(" "),e("p",[t._v(t._s(1==t.order_form.payment_method?"銀行振込":"クレジットカード"))])])]),t._v(" "),e("div",{staticClass:"calculator"},[1==t.order_form.tax_type?e("div",{staticClass:"block"},[e("div",{staticClass:"calc_row"},[e("label",[t._v("小計（税抜）")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcTotalPrice()))])]),t._v(" "),e("div",{staticClass:"calc_row"},[e("label",[t._v("消費税（8％）")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcTaxFee8P()))])]),t._v(" "),e("div",{staticClass:"calc_row"},[e("label",[t._v("消費税（10％）")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcTaxFee10P()))])]),t._v(" "),e("div",{staticClass:"calc_row"},[e("label",[t._v("合計")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcTotalPrice()+t.calcTaxFee8P()+t.calcTaxFee10P()))])])]):t._e(),t._v(" "),2==t.order_form.tax_type?e("div",{staticClass:"block"},[e("div",{staticClass:"calc_row"},[e("label",[t._v("小計（8％）")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcPrice8P()))])]),t._v(" "),e("div",{staticClass:"calc_row"},[e("label",[t._v("小計（10％）")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcPrice10P()))])]),t._v(" "),e("div",{staticClass:"calc_row"},[e("label",[t._v("合計(税込)")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcPrice8P()+t.calcPrice10P()))])])]):t._e(),t._v(" "),3==t.order_form.tax_type?e("div",{staticClass:"block"},[e("div",{staticClass:"calc_row"},[e("label",[t._v("合計")]),t._v(" "),e("p",[t._v("￥"+t._s(t.calcTotalPrice()))])])]):t._e(),t._v(" "),e("div",{staticClass:"calc__action"},[e("button",{staticClass:"on",on:{click:t.sendInvoiceEmail}},[t._v("メールで送信")])]),t._v(" "),e("div",{staticClass:"calc__action"},[e("button",{staticClass:"back",on:{click:t.back}},[t._v("戻る")])])])]):t._e()]),t._v(" "),t.isShowModal?e("ConfirmModal",{attrs:{note:"ダウンロードして対応済みにする",cancelText:"キャンセル",okText:"決定"},on:{cancel:t.cancelFinishDelivery,ok:t.okFinishDelivery}}):t._e(),t._v(" "),e("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,"paginate-elements-by-height":1400,filename:"請求書","pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"1132px"},on:{progress:function(n){return t.onProgress(n)},hasStartedGeneration:function(n){return t.hasStartedGeneration()},hasGenerated:function(n){return t.hasGenerated(n)}}},[t.order_form?e("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[e("section",{staticClass:"pdf-item"},[e("div",{staticClass:"pdf_container"},[e("div",{staticClass:"pdf_heading"},[e("p",{staticClass:"contact_to"},[t._v(t._s(t.order_form.user.com_name)+"　御中")]),t._v(" "),e("div",{staticClass:"page_type"},[e("p",[t._v("請求書")]),t._v(" "),e("p",[t._v("作成日："+t._s(t._f("dateFormat")(t.order_form.invoice_at))+"　請求書番号："+t._s(t.order_form.invoice_hash||"")),e("br"),t._v("支払い期日："+t._s(t._f("dateFormat")(t.order_form.pay_expire)))])])]),t._v(" "),e("div",{staticClass:"order_detail_info"},[e("div",{staticClass:"left"},[e("div",{staticClass:"d-flex"},[e("label",[t._v("請求額")]),t._v(" "),1==t.order_form.tax_type?e("p",[t._v("￥"+t._s(t._f("moneyFormat")(parseInt(t.calcTotalPrice()+t.calcTaxFee8P()+t.calcTaxFee10P())))+"（税込）")]):t._e(),t._v(" "),2==t.order_form.tax_type?e("p",[t._v("￥"+t._s(t._f("moneyFormat")(parseInt(t.calcPrice8P()+t.calcPrice10P())))+"（税込）")]):t._e(),t._v(" "),3==t.order_form.tax_type?e("p",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcTotalPrice()))+"（税込）")]):t._e()])]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"client_info border"},[e("p",[t._v("\n                  "+t._s(t.$store.getters["recipienter_auth/user"].name)),e("br"),t._v("\n                  "+t._s(t.$store.getters["recipienter_auth/user"].zipcode?"〒"+t.$store.getters["recipienter_auth/user"].zipcode:"")+" "+t._s(t.$store.getters["recipienter_auth/user"].prefecture||"")+" "+t._s(t.$store.getters["recipienter_auth/user"].city||"")+" "+t._s(t.$store.getters["recipienter_auth/user"].building||"")),e("br"),t._v("\n                  TEL: "+t._s(t.$store.getters["recipienter_auth/user"].phone)+"\n                ")]),t._v(" "),e("span",{staticClass:"dump"},[e("img",{attrs:{src:t.$store.getters["recipienter_auth/user"].stamp_url}})])])])]),t._v(" "),e("OrderProductTable",{attrs:{id:t.order_form.id}}),t._v(" "),e("div",{staticClass:"total_price"},[1==t.order_form.tax_type?e("table",[e("tr",{staticClass:"calc_row"},[e("td",[t._v("小計（税抜）")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcTotalPrice())))])]),t._v(" "),e("tr",{staticClass:"calc_row"},[e("td",[t._v("消費税（8％）")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcTaxFee8P())))])]),t._v(" "),e("tr",{staticClass:"calc_row"},[e("td",[t._v("消費税（10％）")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcTaxFee10P())))])]),t._v(" "),e("tr",{staticClass:"calc_row"},[e("td",[t._v("合計")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(parseInt(t.calcTotalPrice()+t.calcTaxFee8P()+t.calcTaxFee10P()))))])])]):t._e(),t._v(" "),2==t.order_form.tax_type?e("table",[e("tr",{staticClass:"calc_row"},[e("td",[t._v("小計（8％）")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcPrice8P())))])]),t._v(" "),e("tr",{staticClass:"calc_row"},[e("td",[t._v("小計（10％）")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcPrice10P())))])]),t._v(" "),e("tr",{staticClass:"calc_row"},[e("td",[t._v("合計(税込)")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(parseInt(t.calcPrice8P()+t.calcPrice10P()))))])])]):t._e(),t._v(" "),3==t.order_form.tax_type?e("table",[e("tr",{staticClass:"calc_row"},[e("td",[t._v("合計")]),t._v(" "),e("td",[t._v("￥"+t._s(t._f("moneyFormat")(t.calcTotalPrice())))])])]):t._e()])],1),t._v(" "),e("div",{staticClass:"html2pdf__page-break"})])]):t._e()])],1)}),[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"d-flex heading"},[n("h2",{staticClass:"page__title"},[this._v("請求書")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",{staticClass:"content"},[this._v("\n        この度はご注文いただきましてありがとうごいます。"),n("br"),this._v("\n        下記の通り納品させていただきます。\n      ")])}],!1,null,"1a4c63f8",null);n.default=g.exports}}]);